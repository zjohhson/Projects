(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0c19b8"],{4787:function(e,t,r){"use strict";r.r(t);var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("TabsHeader",{attrs:{selected:e.selected}}),r("Header",{attrs:{signedIn:e.signedIn,author:e.author}}),r("div",{staticClass:"row"},[r("div",{staticClass:"column1"},[r("FormSection",{attrs:{signedIn:e.signedIn}})],1),r("div",{staticClass:"column2"},[r("FreetsSection",{attrs:{freet_data:e.freet_data,user:e.author,all_freets:e.all_freets}})],1)])],1)},a=[],n=r("56d7"),o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e.feed?r("div",{staticClass:"toggle"},[r("button",{staticClass:"feed_btn",on:{click:function(t){return t.preventDefault(),e.toggle(!0)}}},[e._v("Freet Feed")]),r("button",{staticClass:"search_btn",on:{click:function(t){return t.preventDefault(),e.toggle(!1)}}},[e._v("User Search")])]):r("div",{staticClass:"toggle"},[r("button",{staticClass:"feed_btn_2",on:{click:function(t){return t.preventDefault(),e.toggle(!0)}}},[e._v("Freet Feed")]),r("button",{staticClass:"search_btn_2",on:{click:function(t){return t.preventDefault(),e.toggle(!1)}}},[e._v("User Search")])]),e.feed?r("div",{staticClass:"scrollbox"},[e.feed?r("FreetFeed",{attrs:{freet_data:e.freet_data,user:e.user,show_type:e.show}}):e._e()],1):r("div",{staticClass:"scrollbox"},[r("Profile",{attrs:{author:e.author,user:e.user}})],1)])},i=[],u=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e.show_type?r("p",{staticClass:"feed_type"},[e._v(" Showing: "+e._s(e.feed_type_message)+" ")]):e._e(),e._l(e.freet_data,(function(t){return r("FreetItem",{key:t.id,attrs:{freet:t,user:e.user}})}))],2)},l=[],d=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"freet"},[r("div",{staticClass:"tags"},[r("p",{staticClass:"refreet_message"},[e._v(" "+e._s(e.refreet_message(e.freet.id,e.freet.refreeted))+" ")]),r("p",{staticClass:"edited"},[e._v(" "+e._s(e.isEdited(e.edited))+" ")]),r("p",{staticClass:"freetId"},[e._v(" "+e._s(e.id)+" ")])]),r("p",{staticClass:"author"},[e._v("@"+e._s(e.author)+":")]),r("p",{staticClass:"content"},[e._v(" "+e._s(e.freet.content))]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.updatedFreet,expression:"updatedFreet"}],staticClass:"edit",attrs:{type:"text",name:"freet",placeholder:"Freet"},domProps:{value:e.updatedFreet},on:{input:function(t){t.target.composing||(e.updatedFreet=t.target.value)}}}),r("button",{staticClass:"update",on:{click:function(t){return e.updateFreet(e.freet.id)}}},[e._v("Update")]),r("button",{staticClass:"delete",on:{click:function(t){return e.deleteFreet(e.freet.id)}}},[e._v("Delete")]),r("button",{staticClass:"upvote",on:{click:function(t){return e.upvoteFreet(e.freet.id)}}},[e._v(e._s((this.liked?"♥":"♡")+" "+e.count))]),r("button",{staticClass:"retweet",on:{click:function(t){return e.refreet(e.freet.id)}}},[e._v("Retweet")]),r("p",{staticClass:"error"},[e._v(e._s(e.error)+" ")])])},c=[],h=r("bc3a"),p=r.n(h),f={name:"FreetItem",props:["freet","user"],data(){return{updatedFreet:"",error:"",edited:this.freet.edited,author:this.freet.author,id:this.freet.id,count:this.freet.upvotes.length,liked:null!=this.user&&this.freet.upvotes.includes(this.user)}},created:function(){n["eventBus"].$on("signout-success",()=>{this.liked=!1,this.error=""}),n["eventBus"].$on("signin-success",e=>{this.liked=this.freet.upvotes.includes(e.data),this.error=""}),n["eventBus"].$on("freet-upvote",()=>{p.a.get("/api/freets/id/"+this.freet.refreeted).then(e=>{e.data&&(this.liked=e.data.upvotes.includes(this.user),this.count=e.data.upvotes.length,this.error="")}).catch(e=>{alert(e)})})},methods:{isEdited:function(e){return e?"(Edited) ":""},refreet_message:function(e,t){return e===t?"":(p.a.get("/api/freets/id/"+t).then(r=>{this.edited=r.data.edited,this.author=r.data.author,this.id=e+" (original ID: "+t+")"}).catch(e=>{alert(e)}),"Refreeted by: @"+this.freet.author)},updateFreet(e){this.updatedFreet?this.freet.refreeted!==this.freet.id?this.error="Cannot edit a refreet.":(p.a.put("/api/freets/"+e,{content:this.updatedFreet,id:e}).then(e=>{this.edited=!0,n["eventBus"].$emit("freet-data-update",{data:e.data,status:e.status}),this.error=""}).catch(e=>{this.error=e.response.data.error}),this.updatedFreet=""):this.error="Freet must be at least one character."},deleteFreet(e){p.a.delete("/api/freets/"+e,{id:e}).then(e=>{n["eventBus"].$emit("freet-data-update",{data:e.data,status:e.status}),this.error=""}).catch(e=>{this.error=e.response.data.error})},upvoteFreet(e){p.a.patch("/api/user/toggleUpvote/"+e,{id:e}).then(e=>{this.freet=e.data,n["eventBus"].$emit("freet-upvote"),this.liked=null!=this.user&&this.freet.upvotes.includes(this.user),this.error=""}).catch(e=>{this.error=e.response.data.error})},refreet(e){p.a.patch("/api/user/refreet/"+e,{id:e}).then(e=>{n["eventBus"].$emit("freet-data-update",{data:e.data,status:e.status}),this.error=""}).catch(e=>{this.error=e.response.data.error})}}},m=f,v=r("2877"),_=Object(v["a"])(m,d,c,!1,null,null,null),g=_.exports,F={name:"FreetsFeed",components:{FreetItem:g},props:["freet_data","user","show_type"],data(){return{error:"",all_freets:!1}},created:function(){this.get_type(),n["eventBus"].$on("list-all",()=>{this.all_freets=!0}),n["eventBus"].$on("freet-data-update",()=>{this.get_type()}),n["eventBus"].$on("signout-success",()=>{this.all_freets=!0}),n["eventBus"].$on("signin-success",()=>{this.all_freets=!1})},computed:{feed_type_message:function(){return this.all_freets?"All Freets":"Followed Feed"}},methods:{get_type:function(){let e=this.$cookies.get("auth-username");this.all_freets="undefined"==e||"null"==e||null==e||void 0==e}}},w=F,b=Object(v["a"])(w,u,l,!1,null,null,null),$=b.exports,C=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("form",{attrs:{id:"search-user"},on:{submit:function(t){return t.preventDefault(),e.searchUser.apply(null,arguments)}}},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.search,expression:"search"}],attrs:{type:"text",id:"search",name:"search",placeholder:"Search for a user"},domProps:{value:e.search},on:{input:function(t){t.target.composing||(e.search=t.target.value)}}}),r("input",{attrs:{type:"submit",value:"Search"}})]),e.searched?r("div",[e.found?r("ProfileInfo",{attrs:{author:e.author}}):e._e(),e.found?r("FreetFeed",{attrs:{freet_data:e.freet_data,user:e.user}}):r("h2",{staticClass:"serror"},[e._v(" "+e._s(e.error)+" ")])],1):e._e()])},y=[],B=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"profile"},[r("h1",[e._v(" User Profile ")]),r("div",{staticClass:"follows"},[r("p",[e._v(" @"+e._s(e.author)+" ")]),e.other_user?r("button",{on:{click:function(t){return t.preventDefault(),e.follow.apply(null,arguments)}}},[e._v(" "+e._s(e.btn_message)+" ")]):e._e()])])},I=[],x={name:"ProfileInfo",components:{},props:["author"],data(){return{error:"",follows:!1,other_user:!0}},created:function(){this.author==this.$cookies.get("auth-username")&&(this.other_user=!1),"undefined"==this.$cookies.get("auth-username")&&(this.other_user=!1)},mounted:function(){p.a.get("/api/user/following").then(e=>{e.data.includes(this.author)?this.follows=!0:this.follows=!1})},computed:{btn_message:function(){return this.follows?"Unfollow":"Follow"}},methods:{follow:function(){this.follows=!this.follows,p.a.patch("/api/user/toggleFollow/"+this.author),n["eventBus"].$emit("freet-data-update")}}},k=x,U=Object(v["a"])(k,B,I,!1,null,null,null),E=U.exports,P={name:"Profile",components:{ProfileInfo:E,FreetFeed:$},props:["freet_data","author","user"],data(){return{error:"",feed:!0,found:!1,searched:!1}},mounted:function(){},created:function(){n["eventBus"].$on("freet-data-update",()=>{this.getAuthorFreets()})},methods:{getAuthorFreets:function(){p.a.get("/api/freets/"+this.author).then(e=>{this.freet_data=e.data,this.found=!0}).catch(()=>{this.error="User with username: "+this.author+" does not exist."})},searchUser(){this.found=!1,this.searched=!0,this.author=this.search,this.author?this.getAuthorFreets():this.error="Please enter a username with more than 1 character."}}},S=P,j=Object(v["a"])(S,C,y,!1,null,null,null),O=j.exports,D={name:"FreetsSection",components:{Profile:O,FreetFeed:$},props:["freet_data","user","all_freets"],data(){return{error:"",feed:!0,author:" ",search:"",color:"#6666cc",show:!0}},created:function(){n["eventBus"].$on("signout-success",()=>{this.feed=!0}),n["eventBus"].$on("signin-success",()=>{this.feed=!0})},methods:{toggle(e){this.feed=e,n["eventBus"].$emit("freet-data-update")}}},A=D,N=Object(v["a"])(A,o,i,!1,null,null,null),H=N.exports,L=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e.signedIn?r("AuthenticatedForms"):r("UnauthenticatedForms"),r("ListAllFreetsForm")],1)},J=[],M=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("form",{attrs:{id:"list-all"}},[r("input",{attrs:{type:"submit",value:"List Freets"},on:{click:function(t){return t.preventDefault(),e.listFreets.apply(null,arguments)}}})])])},R=[],T={name:"ListAllFreetsForm",props:[],data(){return{}},created:function(){},methods:{listFreets(){p.a.get("/api/freets").then(()=>{n["eventBus"].$emit("list-all")})}}},W=T,q=Object(v["a"])(W,M,R,!1,null,null,null),z=q.exports,G=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("CreateFreetForm")],1)},K=[],Q=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("form",{attrs:{id:"create-freet"},on:{submit:function(t){return t.preventDefault(),e.createFreet.apply(null,arguments)}}},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.freet,expression:"freet"}],attrs:{type:"text",id:"freet",name:"freet",placeholder:"Freet"},domProps:{value:e.freet},on:{input:function(t){t.target.composing||(e.freet=t.target.value)}}}),r("br"),r("input",{attrs:{type:"submit",value:"Create Freet"}}),r("p",{staticClass:"error"},[e._v(" "+e._s(e.error))])])])},V=[],X={name:"CreateFreetsForm",props:[],data(){return{freet:"",error:""}},created:function(){},methods:{createFreet(){this.freet?(p.a.post("/api/freets",{content:this.freet}).then(e=>{n["eventBus"].$emit("freet-data-update",{data:e.data,status:e.status}),this.error=""}).catch(e=>{this.error=e.response.data.error}),this.freet=""):this.error="Freet must be at least one character."}}},Y=X,Z=Object(v["a"])(Y,Q,V,!1,null,null,null),ee=Z.exports,te={name:"AuthenticatedForms",components:{CreateFreetForm:ee},props:[],data(){return{}},mounted(){},methods:{}},re=te,se=Object(v["a"])(re,G,K,!1,null,null,null),ae=se.exports,ne=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("CreateUserForm"),r("SignInForm")],1)},oe=[],ie=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("form",{attrs:{id:"create-user"},on:{submit:function(t){return t.preventDefault(),e.createUser.apply(null,arguments)}}},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],attrs:{type:"text",id:"username",name:"username",placeholder:"Username"},domProps:{value:e.username},on:{input:function(t){t.target.composing||(e.username=t.target.value)}}}),r("br"),r("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{type:"text",id:"password",name:"password",placeholder:"Password"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}}),r("br"),r("input",{attrs:{type:"submit",value:"Create User"}}),r("p",{staticClass:"error"},[e._v(e._s(e.error))])])])},ue=[],le={name:"CreateUserForm",props:[],data(){return{username:"",password:"",error:""}},created:function(){},methods:{createUser(){p.a.post("/api/user",{username:this.username,password:this.password}).then(e=>{n["eventBus"].$emit("signin-success",{data:e.data.username}),this.error="",n["eventBus"].$emit("freet-data-update")}).catch(e=>{this.error=e.response.data.error}),this.username="",this.password=""}}},de=le,ce=Object(v["a"])(de,ie,ue,!1,null,null,null),he=ce.exports,pe=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("form",{attrs:{id:"sign-in"},on:{submit:function(t){return t.preventDefault(),e.signIn.apply(null,arguments)}}},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],attrs:{type:"text",id:"username",name:"username",placeholder:"Username"},domProps:{value:e.username},on:{input:function(t){t.target.composing||(e.username=t.target.value)}}}),r("br"),r("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{type:"text",id:"password",name:"password",placeholder:"Password"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}}),r("br"),r("input",{attrs:{type:"submit",value:"Sign In"}}),r("p",{staticClass:"error"},[e._v(e._s(e.error))])])])},fe=[],me={name:"SignInForm",props:[],data(){return{username:"",password:"",error:""}},created:function(){},methods:{signIn(){p.a.post("/api/user/signin",{username:this.username,password:this.password}).then(e=>{n["eventBus"].$emit("signin-success",{data:e.data.username})}).catch(e=>{this.error=this.error=e.response.data.error}).finally(()=>{n["eventBus"].$emit("freet-data-update")}),this.username="",this.password=""}}},ve=me,_e=Object(v["a"])(ve,pe,fe,!1,null,null,null),ge=_e.exports,Fe={name:"UnauthenticatedForms",components:{SignInForm:ge,CreateUserForm:he},props:[],data(){return{}},mounted(){},methods:{}},we=Fe,be=Object(v["a"])(we,ne,oe,!1,null,null,null),$e=be.exports,Ce={name:"FormSection",components:{ListAllFreetsForm:z,UnauthenticatedForms:$e,AuthenticatedForms:ae},props:["signedIn"],data(){return{}},mounted(){},methods:{}},ye=Ce,Be=Object(v["a"])(ye,L,J,!1,null,null,null),Ie=Be.exports,xe=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("h1",{staticClass:"welcome"},[e._v("Welcome to Fritter")]),r("h2",[e._v(e._s(e.signedInMessage))])])},ke=[],Ue={name:"Header",props:["signedIn","author"],data(){return{}},created:function(){},computed:{signedInMessage:function(){return!1===this.signedIn?"Sign in to start posting freets!":"Hello "+this.author+"!"}},methods:{}},Ee=Ue,Pe=Object(v["a"])(Ee,xe,ke,!1,null,null,null),Se=Pe.exports,je=r("ddba"),Oe={name:"app",components:{FreetsSection:H,FormSection:Ie,Header:Se,TabsHeader:je["a"]},data(){return{freet_data:"",signedIn:!1,author:"",all_freets:!0,selected:"feed"}},beforeCreate:function(){p.a.get("/api/user/signedin").then(e=>{void 0!=e.data.username&&null!=e.data.username&&"null"!=e.data.username?(this.author=e.data.username,this.signedIn=!0,this.$cookies.set("auth-username",e.data.username)):this.$cookies.set("auth-username",void 0)})},created:function(){this.author=this.$cookies.get("auth-username"),"undefined"!=this.author&&"null"!=this.author&&null!=this.author&&(this.signedIn=!0),this.signedIn?p.a.get("api/user/freetsByFollowing").then(e=>{this.freet_data=e.data}):p.a.get("/api/freets").then(e=>{this.freet_data=e.data}),n["eventBus"].$on("signin-success",e=>{this.signedIn=!0,this.author=e.data,this.$cookies.set("auth-username",e.data)}),n["eventBus"].$on("signout-success",()=>{this.signedIn=!1,this.author=void 0,this.$cookies.set("auth-username",void 0)}),n["eventBus"].$on("delete-success",()=>{this.signedIn=!1,this.author=void 0,this.$cookies.set("auth-username",void 0),n["eventBus"].$emit("freet-data-update")}),n["eventBus"].$on("list-all",()=>{p.a.get("/api/freets").then(e=>{this.freet_data=e.data}).catch(e=>{alert(e)})}),n["eventBus"].$on("freet-data-update",()=>{this.signedIn?(this.all_freets=!1,p.a.get("api/user/freetsByFollowing").then(e=>{this.freet_data=e.data}).catch(e=>{alert(e)})):(this.all_freets=!0,p.a.get("/api/freets").then(e=>{this.freet_data=e.data}).catch(e=>{alert(e)}))}),n["eventBus"].$on("findby-author-success",e=>{p.a.get("/api/freets/"+e.author).then(e=>{this.freet_data=e.data}).catch(e=>{alert(e)})}),n["eventBus"].$on("create-success",e=>{this.author=e.data.username})},computed:{},methods:{}},De=Oe,Ae=Object(v["a"])(De,s,a,!1,null,null,null);t["default"]=Ae.exports}}]);
//# sourceMappingURL=chunk-2d0c19b8.9efb1aa6.js.map